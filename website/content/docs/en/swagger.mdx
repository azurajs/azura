---
title: Swagger / OpenAPI
description: Complete API documentation with modern interactive interface
---

import { Callout, Steps, Tabs, Tab } from 'fumadocs-ui/components';

# Swagger / OpenAPI 3.0

AzuraJS includes complete support for API documentation using Swagger/OpenAPI 3.0, with a modern dark mode interface and integrated "Try It Out" functionality.

<Callout type="info">
  AzuraJS's Swagger system automatically generates OpenAPI 3.0 documentation from your controllers and decorators, without manual configuration.
</Callout>

## Installation

Swagger is already included in AzuraJS. Just import from the `azurajs/swagger` submodule:

```typescript
import { setupSwaggerWithControllers } from "azurajs/swagger";
```

## Quick Setup

The simplest way to add Swagger to your application is with one line:

<Tabs items={['TypeScript', 'JavaScript']}>
  <Tab value="TypeScript">
    ```typescript
    import { AzuraClient } from "azurajs";
    import { setupSwaggerWithControllers } from "azurajs/swagger";
    import { UserController } from "./controllers/UserController";

    const app = new AzuraClient();

    // One line to configure everything!
    setupSwaggerWithControllers(app, {
      title: "My API",
      description: "API documentation",
      version: "1.0.0"
    }, [UserController]);

    app.listen();
    ```
  </Tab>
  
  <Tab value="JavaScript">
    ```javascript
    const { AzuraClient } = require("azurajs");
    const { setupSwaggerWithControllers } = require("azurajs/swagger");
    const { UserController } = require("./controllers/UserController");

    const app = new AzuraClient();

    setupSwaggerWithControllers(app, {
      title: "My API",
      description: "API documentation",
      version: "1.0.0"
    }, [UserController]);

    app.listen();
    ```
  </Tab>
</Tabs>

<Callout type="success">
  Access documentation at:
  - **Interactive UI:** `http://localhost:3000/docs`
  - **OpenAPI JSON:** `http://localhost:3000/api-spec.json`
</Callout>

## Documentation Decorators

### @ApiDoc()

Documents basic endpoint information:

```typescript
import { Controller, Get } from "azurajs/decorators";
import { ApiDoc } from "azurajs/swagger";

@Controller("/users")
class UserController {
  @Get("/:id")
  @ApiDoc({
    summary: "Get user by ID",
    description: "Retrieve detailed information about a specific user"
  })
  async getUser(@Req() req, @Res() res) {
    res.json({ id: req.params.id, name: "John Doe" });
  }
}
```

### @ApiResponse()

Defines possible endpoint responses:

```typescript
@Get("/:id")
@ApiResponse(200, "User found", {
  example: { 
    id: 1, 
    name: "John Doe", 
    email: "john@example.com" 
  }
})
@ApiResponse(404, "User not found", {
  example: { error: "User not found" }
})
async getUser(@Req() req, @Res() res) {
  // ...
}
```

### @ApiParameter()

Documents request parameters:

```typescript
@Get("/:id")
@ApiParameter("id", "path", {
  description: "User ID",
  required: true,
  schema: { type: "integer" },
  example: 123
})
async getUser(@Req() req, @Res() res) {
  // ...
}
```

**Parameter types:**
- `path` - URL parameters (`/users/:id`)
- `query` - Query strings (`/users?page=1`)
- `header` - HTTP headers
- `cookie` - Cookies

### @ApiBody()

Documents request body:

```typescript
@Post("/")
@ApiBody({
  description: "User data",
  required: true,
  example: {
    name: "Jane Doe",
    email: "jane@example.com",
    age: 25
  }
})
async createUser(@Req() req, @Res() res) {
  res.status(201).json(req.body);
}
```

### @ApiTags()

Organizes endpoints by tags:

```typescript
@Controller("/users")
@ApiTags("Users")
class UserController {
  // All endpoints will have the "Users" tag
}

// Or on specific endpoints:
@Get("/")
@ApiTags("Users", "Public")
async listUsers() {
  // ...
}
```

### @ApiSecurity()

Specifies authentication requirements:

```typescript
@Get("/profile")
@ApiSecurity("bearerAuth")
async getProfile(@Req() req, @Res() res) {
  // Protected endpoint
}
```

**Configuring security schemes:**

```typescript
setupSwaggerWithControllers(app, {
  title: "My API",
  version: "1.0.0",
  securitySchemes: {
    bearerAuth: {
      type: "http",
      scheme: "bearer",
      bearerFormat: "JWT"
    },
    apiKey: {
      type: "apiKey",
      in: "header",
      name: "X-API-Key"
    }
  }
}, [UserController]);
```

### @ApiDeprecated()

Marks endpoints as deprecated:

```typescript
@Get("/old-endpoint")
@ApiDeprecated()
@ApiDoc({ summary: "Old endpoint (use /new-endpoint instead)" })
async oldEndpoint(@Req() req, @Res() res) {
  // ...
}
```

## Complete Example

```typescript
import { Controller, Get, Post, Put, Delete, Req, Res } from "azurajs/decorators";
import { 
  ApiDoc, 
  ApiResponse, 
  ApiParameter, 
  ApiBody, 
  ApiTags 
} from "azurajs/swagger";

@Controller("/users")
@ApiTags("Users")
class UserController {
  @Get("/")
  @ApiDoc({
    summary: "List all users",
    description: "Retrieve a paginated list of users"
  })
  @ApiParameter("page", "query", {
    description: "Page number",
    schema: { type: "integer", default: 1 }
  })
  @ApiParameter("limit", "query", {
    description: "Items per page",
    schema: { type: "integer", default: 10 }
  })
  @ApiResponse(200, "Success", {
    example: {
      users: [
        { id: 1, name: "John Doe" },
        { id: 2, name: "Jane Doe" }
      ],
      total: 2,
      page: 1
    }
  })
  async listUsers(@Req() req, @Res() res) {
    const page = req.query.page || 1;
    const limit = req.query.limit || 10;
    res.json({ users: [], total: 0, page });
  }

  @Get("/:id")
  @ApiDoc({
    summary: "Get user by ID",
    description: "Retrieve detailed user information"
  })
  @ApiParameter("id", "path", {
    description: "User ID",
    required: true,
    schema: { type: "integer" }
  })
  @ApiResponse(200, "User found", {
    example: { id: 1, name: "John Doe", email: "john@example.com" }
  })
  @ApiResponse(404, "User not found")
  async getUser(@Req() req, @Res() res) {
    const userId = req.params.id;
    res.json({ id: userId, name: "John Doe" });
  }

  @Post("/")
  @ApiDoc({
    summary: "Create new user",
    description: "Create a new user in the system"
  })
  @ApiBody({
    description: "User data",
    required: true,
    example: {
      name: "Jane Doe",
      email: "jane@example.com",
      age: 25
    }
  })
  @ApiResponse(201, "User created", {
    example: { id: 3, name: "Jane Doe", email: "jane@example.com" }
  })
  @ApiResponse(400, "Invalid data")
  async createUser(@Req() req, @Res() res) {
    res.status(201).json({ id: 3, ...req.body });
  }

  @Put("/:id")
  @ApiDoc({ summary: "Update user" })
  @ApiParameter("id", "path", {
    description: "User ID",
    required: true,
    schema: { type: "integer" }
  })
  @ApiBody({
    description: "Updated user data",
    example: { name: "John Updated" }
  })
  @ApiResponse(200, "User updated")
  @ApiResponse(404, "User not found")
  async updateUser(@Req() req, @Res() res) {
    res.json({ id: req.params.id, ...req.body });
  }

  @Delete("/:id")
  @ApiDoc({ summary: "Delete user" })
  @ApiParameter("id", "path", {
    description: "User ID",
    required: true
  })
  @ApiResponse(204, "User deleted")
  @ApiResponse(404, "User not found")
  async deleteUser(@Req() req, @Res() res) {
    res.status(204).send();
  }
}
```

## Swagger UI Interface

AzuraJS's Swagger interface offers:

### üé® Modern Design
- Premium dark mode (inspired by Stripe/Vercel)
- Sidebar navigation by tags
- Expandable cards for each endpoint
- Syntax highlighting for code

### üîç Real-time Search
- Search endpoints by method or path
- Instant filtering in sidebar

### üöÄ Try It Out
- Test endpoints directly in the UI
- Fill parameters, query strings and body
- See response in real-time
- Shows response time

### üìã Features
- Copy code with one click
- Status code visualization
- Request/response examples
- Type documentation
- Badges for required/deprecated

## Advanced Configuration

### Multiple Servers

```typescript
setupSwaggerWithControllers(app, {
  title: "My API",
  version: "1.0.0",
  servers: [
    {
      url: "http://localhost:3000",
      description: "Development"
    },
    {
      url: "https://api.example.com",
      description: "Production"
    },
    {
      url: "https://staging.example.com",
      description: "Staging"
    }
  ]
}, [UserController]);
```

### Security Schemes

```typescript
setupSwaggerWithControllers(app, {
  title: "My API",
  version: "1.0.0",
  securitySchemes: {
    bearerAuth: {
      type: "http",
      scheme: "bearer",
      bearerFormat: "JWT",
      description: "JWT token from /auth/login"
    },
    apiKey: {
      type: "apiKey",
      in: "header",
      name: "X-API-Key",
      description: "API key from dashboard"
    },
    oauth2: {
      type: "oauth2",
      flows: {
        authorizationCode: {
          authorizationUrl: "https://example.com/oauth/authorize",
          tokenUrl: "https://example.com/oauth/token",
          scopes: {
            "read:users": "Read user data",
            "write:users": "Modify user data"
          }
        }
      }
    }
  }
}, [UserController]);
```

### Contact & License

```typescript
setupSwaggerWithControllers(app, {
  title: "My API",
  description: "Complete API documentation",
  version: "1.0.0",
  contact: {
    name: "API Support",
    email: "support@example.com",
    url: "https://example.com/support"
  },
  license: {
    name: "MIT",
    url: "https://opensource.org/licenses/MIT"
  }
}, [UserController]);
```

## Manual Setup (Advanced)

If you need more control, you can configure manually:

```typescript
import { AzuraClient } from "azurajs";
import { SwaggerIntegration, SwaggerGenerator } from "azurajs/swagger";
import { getControllerMetadata } from "azurajs/decorators";

const app = new AzuraClient();

// Create generator
const generator = new SwaggerGenerator({
  title: "My API",
  version: "1.0.0"
});

// Add controllers
const metadata = getControllerMetadata(UserController);
generator.addController(metadata.prefix, metadata.routes);

// Configure Swagger routes
const swagger = new SwaggerIntegration(generator, {
  title: "My API",
  version: "1.0.0"
});

app.use("/docs", swagger.getUIRoute());
app.use("/api-spec.json", swagger.getSpecRoute());

// Register controllers normally
app.registerController(UserController);

app.listen();
```

## TypeScript Types

AzuraJS provides complete types for OpenAPI 3.0:

```typescript
import type {
  OpenAPIDocument,
  SwaggerConfig,
  ApiDocMetadata,
  ApiResponseMetadata,
  ParameterObject,
  SchemaObject
} from "azurajs/swagger";

const config: SwaggerConfig = {
  title: "My API",
  version: "1.0.0",
  servers: [{ url: "http://localhost:3000" }]
};
```

## Best Practices

<Steps>
### Use @ApiTags for Organization

Group related endpoints with tags:

```typescript
@Controller("/users")
@ApiTags("Users", "Management")
class UserController { }

@Controller("/products")
@ApiTags("Products", "E-commerce")
class ProductController { }
```

### Provide Detailed Examples

Examples help developers understand the expected format:

```typescript
@ApiBody({
  description: "User registration data",
  example: {
    name: "John Doe",
    email: "john@example.com",
    password: "secure123",
    preferences: {
      newsletter: true,
      notifications: ["email", "push"]
    }
  }
})
```

### Document All Status Codes

Include all possible responses:

```typescript
@ApiResponse(200, "Success")
@ApiResponse(400, "Bad request")
@ApiResponse(401, "Unauthorized")
@ApiResponse(403, "Forbidden")
@ApiResponse(404, "Not found")
@ApiResponse(500, "Server error")
```

### Use Clear Descriptions

Be descriptive in summaries and descriptions:

```typescript
@ApiDoc({
  summary: "Update user profile",
  description: "Updates the authenticated user's profile information. Only provided fields will be updated. Requires valid JWT token."
})
```

### Mark Deprecated Endpoints

Inform when endpoints are deprecated:

```typescript
@Get("/old-api")
@ApiDeprecated()
@ApiDoc({
  summary: "Legacy API endpoint",
  description: "‚ö†Ô∏è Deprecated: Use /api/v2/endpoint instead. This endpoint will be removed in v3.0.0"
})
```
</Steps>

## Troubleshooting

### Documentation doesn't appear

Make sure:
1. You imported decorators from `azurajs/swagger`
2. Decorators are applied to methods
3. Controllers were passed to `setupSwaggerWithControllers()`

### Try It Out doesn't work

Check:
1. CORS is configured correctly
2. Server is running on the expected URL
3. Parameters are being filled correctly

### TypeScript types don't work

Make sure to import types:

```typescript
import type { SwaggerConfig } from "azurajs/swagger";
```

## Next Steps

<Cards>
  <Card title="Examples" href="/docs/examples">
    See complete usage examples
  </Card>
  <Card title="Decorators" href="/docs/decorators">
    Learn more about decorators
  </Card>
  <Card title="Controllers" href="/docs/controllers">
    Understand how controllers work
  </Card>
</Cards>
